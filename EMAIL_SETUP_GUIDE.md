# Гайд по настройке корпоративной почты (SMTP)

Для того чтобы сайт мог отправлять письма (восстановление пароля, уведомления) с адреса `info@lider-garant.ru`, необходимо настроить SMTP.

**Важно:** Не используйте ваш обычный пароль от входа в почту! Нужно создать специальный **Пароль приложения**.

## 1. Определите провайдера почты

Скорее всего, ваша корпоративная почта привязана к одному из сервисов:
- **Яндекс 360** (самый частый для .ru доменов)
- **Mail.ru для бизнеса** (VK WorkSpace)
- **Reg.ru / Beget** (почта на хостинге)

### Если у вас Яндекс (Yandex Connect / 360)

1. Зайдите в аккаунт `info@lider-garant.ru` на Яндексе.
2. Перейдите в [Управление аккаунтом](https://id.yandex.ru/).
3. В разделе **Безопасность** -> **Доступ к вашим данным** выберите **Пароли приложений**.
4. Нажмите "Создать пароль приложения", выберите тип "Почта", назовите его "Сайт" или "Django".
5. Скопируйте полученный пароль (обычно 16 символов).

**Настройки для файла `.env`:**
```env
EMAIL_HOST=smtp.yandex.ru
EMAIL_PORT=465
EMAIL_USE_SSL=True
```

### Если у вас Mail.ru (VK WorkSpace)

1. Зайдите в почту.
2. Настройки (шестеренка) -> **Пароль и безопасность**.
3. **Пароли для внешних приложений** -> Добавить.
4. Скопируйте пароль.

**Настройки для файла `.env`:**
```env
EMAIL_HOST=smtp.mail.ru
EMAIL_PORT=465
EMAIL_USE_SSL=True
```

### Если у вас почта на хостинге (Reg.ru, Timeweb и др.)

Вам нужно найти раздел "Почтовые клиенты" в панели управления хостингом. Там будут указаны `SMTP-сервер` и порты. Обычно пароль совпадает с паролем от ящика.

---

## 2. Внесите изменения в файл конфигурации

Откройте файл `backend/.env` и найдите раздел, который я добавил в конце:

```env
# Email Configuration (SMTP)

# 1. Чтобы включить реальную отправку, уберите решетку (#) в начале этой строки:
EMAIL_BACKEND=django.core.mail.backends.smtp.EmailBackend

# 2. Укажите сервер (пример для Яндекса):
EMAIL_HOST=smtp.yandex.ru
EMAIL_PORT=465
EMAIL_USE_SSL=True

# 3. Ваша почта:
EMAIL_HOST_USER=info@lider-garant.ru

# 4. Вставьте сюда полученный Пароль Приложения (не от входа в почту!):
EMAIL_HOST_PASSWORD=ваш_секретный_пароль
```

## 3. Проверка

После настройки перезапустите сервер (Backend). Попробуйте выполнить действие, требующее отправки письма (например, "Забыли пароль?").
Если настройки верны, письмо придет на указанный email. Если нет — в консоли появится ошибка (обычно `SMTPAuthenticationError`, если неверен пароль).
